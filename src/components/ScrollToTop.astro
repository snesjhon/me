<button
  class="scroll-to-top fixed bottom-8 right-8 opacity-0 transition-opacity duration-300 z-50 bg-gh-canvas-subtle border border-gh-border-default rounded-full p-3 hover:bg-gh-canvas-default shadow-lg"
  aria-label="Scroll to top"
>
  â†‘
</button>

<style>
  .scroll-to-top.visible {
    opacity: 1;
  }
</style>

<script>
  function debounce<F extends Function>(func: F, wait: number = 30): (...args: any[]) => void {
    let timeoutId: ReturnType<typeof setTimeout> | undefined;
    return function (...args: any[]) {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(() => func(...args), wait);
    };
  }

  const scrollToTopBtn = document.querySelector('.scroll-to-top');

  const handleScroll = debounce(() => {
    const scrollY = window.scrollY;

    if (scrollY > 200) {
      scrollToTopBtn?.classList.add('visible');
    } else {
      scrollToTopBtn?.classList.remove('visible');
    }
  }, 30);

  window.addEventListener('scroll', handleScroll);

  scrollToTopBtn?.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
</script>
